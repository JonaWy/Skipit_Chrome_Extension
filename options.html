<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>SkipIt Settings</title>
    <link rel="stylesheet" href="options.css" />
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h1 class="page-title">
          Settings
          <span id="premiumBadge" class="premium-badge" style="display: none"
            >PRO</span
          >
        </h1>
        <button
          id="themeToggle"
          class="theme-toggle"
          aria-label="Toggle dark mode"
        >
          <!-- Moon icon (shown in light mode) -->
          <svg
            class="icon-moon"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <!-- Sun icon (shown in dark mode) -->
          <svg
            class="icon-sun"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
        </button>
      </div>

      <!-- Upgrade Card (shown for free users) -->
      <div
        id="upgradeCard"
        class="settings-card upgrade-card"
        style="display: none"
      >
        <div class="upgrade-content">
          <div class="upgrade-icon">ðŸš€</div>
          <div class="upgrade-text">
            <h3>Upgrade to SkipIt Pro</h3>
            <p>
              Unlock all 7 streaming platforms, speeds from 0.25x to 4x, and
              more!
            </p>
          </div>
          <button id="upgradeBtn" class="primary-button">Upgrade Now</button>
        </div>
      </div>

      <!-- Subscription Management Card (shown for premium users) -->
      <div
        id="subscriptionCard"
        class="settings-card subscription-card"
        style="display: none"
      >
        <div class="subscription-content">
          <div class="subscription-header">
            <span class="subscription-icon">âœ¨</span>
            <div class="subscription-info">
              <h3>SkipIt Pro</h3>
              <p class="subscription-status">Active Subscription</p>
            </div>
          </div>
          <button id="manageSubscriptionBtn" class="secondary-button">
            Manage Subscription
          </button>
        </div>
      </div>

      <!-- Stats Card -->
      <div class="settings-card">
        <h2 class="card-title">Statistics</h2>
        <div class="stats-grid stats-grid-3">
          <div class="stat-item">
            <span class="stat-value" id="statTimeSaved">0m</span>
            <span class="stat-label">Time Saved</span>
          </div>
          <div class="stat-item">
            <span class="stat-value" id="statIntros">0</span>
            <span class="stat-label">Intros skipped</span>
          </div>
          <div class="stat-item">
            <span class="stat-value" id="statRecaps">0</span>
            <span class="stat-label">Recaps skipped</span>
          </div>
        </div>
        <button
          id="resetStats"
          class="secondary-button"
          style="width: 100%; margin-top: 12px"
        >
          Reset
        </button>
      </div>

      <!-- Presets Card -->
      <div class="settings-card">
        <h2 class="card-title">Presets</h2>
        <div id="presetsContainer">
          <!-- Filled by JS -->
        </div>
      </div>

      <!-- Streaming Services Card -->
      <div class="settings-card">
        <h2 class="card-title">
          Streaming Services
          <span
            class="premium-feature-tag"
            id="platformsPremiumTag"
            style="display: none"
            >PRO</span
          >
        </h2>
        <p class="description" style="margin-bottom: 16px">
          Enable or disable the app for specific services.
          <span id="platformsHint" class="free-hint" style="display: none"
            >Free: Netflix & YouTube only</span
          >
        </p>
        <div id="servicesContainer">
          <!-- Filled by JS -->
        </div>
      </div>

      <!-- Advanced Settings Collapsible Section -->
      <div class="collapsible-section">
        <button
          class="collapsible-header"
          id="advancedSettingsToggle"
          aria-expanded="false"
        >
          <span class="collapsible-title">Advanced Settings</span>
          <svg
            class="collapsible-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>

        <div class="collapsible-content" id="advancedSettingsContent">
          <!-- OSD Card -->
          <div class="settings-card">
            <h2 class="card-title">Speed Overlay</h2>

            <label class="toggle-container">
              <span class="toggle-label">Show Speed Overlay</span>
              <input type="checkbox" id="osdEnabled" class="toggle-checkbox" />
              <span class="toggle-switch"></span>
            </label>
          </div>

          <!-- Shortcuts Card -->
          <div class="settings-card">
            <h2 class="card-title">Keyboard Shortcuts</h2>
            <p class="description" style="margin-bottom: 12px">
              Use these shortcuts while watching videos to control playback speed.
            </p>
            <div class="shortcuts-list">
              <div class="shortcut-item">
                <kbd>+</kbd>
                <span>Speed Up (+0.25x)</span>
              </div>
              <div class="shortcut-item">
                <kbd>-</kbd>
                <span>Slow Down (-0.25x)</span>
              </div>
              <div class="shortcut-item">
                <kbd>1</kbd> - <kbd>8</kbd>
                <span>Select Preset 1-8</span>
              </div>
            </div>
          </div>

          <!-- Auto-Skip Card -->
          <div class="settings-card">
            <h2 class="card-title">Auto-Skip</h2>

            <div class="setting-item">
              <label
                class="toggle-label"
                style="display: block; margin-bottom: 4px"
                >Click Delay (ms)</label
              >
              <p class="setting-helper">
                Wait time before clicking skip buttons. Increase if skips
                trigger too early.
              </p>
              <input
                type="number"
                id="clickDelay"
                min="0"
                max="5000"
                step="100"
                style="width: 120px"
              />
            </div>

            <label class="toggle-container has-helper">
              <div class="toggle-info">
                <span class="toggle-label">Show Notifications</span>
                <span class="setting-helper"
                  >Display a brief message when intros, recaps, or ads are
                  skipped.</span
                >
              </div>
              <input
                type="checkbox"
                id="showNotifications"
                class="toggle-checkbox"
              />
              <span class="toggle-switch"></span>
            </label>

            <label class="toggle-container has-helper">
              <div class="toggle-info">
                <span class="toggle-label">Debug Mode</span>
                <span class="setting-helper"
                  >Log skip detection details to browser console for
                  troubleshooting.</span
                >
              </div>
              <input type="checkbox" id="debugMode" class="toggle-checkbox" />
              <span class="toggle-switch"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button id="resetBtn" class="secondary-button" style="width: 100%">
          Reset Settings
        </button>
      </div>
    </div>
    <script src="license.js"></script>
    <script src="options.js"></script>
  </body>
</html>
